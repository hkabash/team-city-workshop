{"uid":"a36f998d3dfd7207","name":"Проверка перехода на страницу создания под-проекта при клике на New Project... из существующего проекта на Home Page","fullName":"tests.frontend.test_e2e_create_project.TestCreateProjectE2E#test_redirect_to_create_project_page_on_new_project_click_from_existing_project","historyId":"5b93207ab29deecd06b09d7d86463d15","time":{"start":1711282487385,"stop":1711282517835,"duration":30450},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.","statusTrace":"self = <test_e2e_create_project.TestCreateProjectE2E object at 0x7f221f3e17e0>\ncreated_project_data = ProjectResponseModel(id='hPeVufuZnWEProject', name='walk', parentProjectId='_Root', virtual=False, description=None, h...rojectFeatures={'count': 0, 'href': '/app/rest/projects/id:hPeVufuZnWEProject/projectFeatures'}, projects={'count': 0})\npage = <Page url='http://localhost:8111/favorite/projects?mode=builds'>\nlogin = None\n\n    @allure.feature('Управление проектами')\n    @allure.story('Создание проекта')\n    @allure.severity(allure.severity_level.NORMAL)\n    @allure.title('Проверка перехода на страницу создания под-проекта при клике на New Project... '\n                  'из существующего проекта на Home Page')\n    def test_redirect_to_create_project_page_on_new_project_click_from_existing_project(self, created_project_data,\n                                                                                        page, login):\n        parent_project_id = created_project_data.id\n        parent_project_name = created_project_data.name\n        home_page = FavoriteProjectsPage(page)\n>       home_page.click_new_project_from_dropdown(parent_project_id)\n\ntests/frontend/test_e2e_create_project.py:77: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/favorite_projects_page.py:25: in click_new_project_from_dropdown\n    self.actions.wait_for_selector(self.new_project_dropdown_item_selector)\npages/actions/page_actions.py:53: in wait_for_selector\n    self.page.wait_for_selector(selector, state='visible')\n../../../.local/lib/python3.10/site-packages/playwright/sync_api/_generated.py:7789: in wait_for_selector\n    self._sync(\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_page.py:373: in wait_for_selector\n    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_frame.py:323: in wait_for_selector\n    await self._channel.send(\"waitForSelector\", locals_to_params(locals()))\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_connection.py:59: in send\n    return await self._connection.wrap_api_call(\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_connection.py:509: in wrap_api_call\n    return await cb()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Channel object at 0x7f221dcab970>\nmethod = 'waitForSelector'\nparams = {'selector': 'a[class *=\"ring-list-item\"]:has-text(\"New Project...\")', 'state': 'visible'}\nreturn_as_dict = False\n\n    async def inner_send(\n        self, method: str, params: Optional[Dict], return_as_dict: bool\n    ) -> Any:\n        if params is None:\n            params = {}\n        if self._connection._error:\n            error = self._connection._error\n            self._connection._error = None\n            raise error\n        callback = self._connection._send_message_to_server(\n            self._object, method, _filter_none(params)\n        )\n        done, _ = await asyncio.wait(\n            {\n                self._connection._transport.on_error_future,\n                callback.future,\n            },\n            return_when=asyncio.FIRST_COMPLETED,\n        )\n        if not callback.future.done():\n            callback.future.cancel()\n>       result = next(iter(done)).result()\nE       playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.\n\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_connection.py:97: TimeoutError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1711282365470,"stop":1711282365491,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"user_session","time":{"start":1711282482423,"stop":1711282482423,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"super_admin","time":{"start":1711282482423,"stop":1711282482427,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"project_data","time":{"start":1711282482427,"stop":1711282482427,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"created_project_data","time":{"start":1711282482427,"stop":1711282482480,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1711282482480,"stop":1711282483778,"duration":1298},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"login","time":{"start":1711282483779,"stop":1711282487384,"duration":3605},"status":"passed","steps":[{"name":"Логин в приложение","time":{"start":1711282483779,"stop":1711282485561,"duration":1782},"status":"passed","steps":[{"name":"Переход на страницу логина","time":{"start":1711282483779,"stop":1711282484941,"duration":1162},"status":"passed","steps":[{"name":"Переход на URL: http://localhost:8111/login.html","time":{"start":1711282483779,"stop":1711282484934,"duration":1155},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Ожидание загрузки страницы","time":{"start":1711282484934,"stop":1711282484941,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Ввод username","time":{"start":1711282484941,"stop":1711282485175,"duration":234},"status":"passed","steps":[{"name":"Ожидаем повяления селектора: input#username","time":{"start":1711282484941,"stop":1711282485094,"duration":153},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"ввод текста 'admin' в элемент: input#username","time":{"start":1711282485094,"stop":1711282485175,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Ввод password","time":{"start":1711282485175,"stop":1711282485363,"duration":188},"status":"passed","steps":[{"name":"Ожидаем повяления селектора: input#password","time":{"start":1711282485175,"stop":1711282485271,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"ввод текста 'admin' в элемент: input#password","time":{"start":1711282485271,"stop":1711282485363,"duration":92},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Нажатие кнопки Log in","time":{"start":1711282485363,"stop":1711282485561,"duration":198},"status":"passed","steps":[{"name":"Клик по элементу: input.btn.loginButton","time":{"start":1711282485363,"stop":1711282485560,"duration":197},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[{"name":"username","value":"'admin'"},{"name":"password","value":"'admin'"}],"shouldDisplayMessage":false,"stepsCount":11,"attachmentsCount":0,"hasContent":true},{"name":"Проверка URL страницы favorite projects","time":{"start":1711282485561,"stop":1711282486725,"duration":1164},"status":"passed","steps":[{"name":"Ожидание изменения URL на http://localhost:8111/favorite/projects","time":{"start":1711282485561,"stop":1711282486716,"duration":1155},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Ожидание загрузки страницы","time":{"start":1711282486716,"stop":1711282486725,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Проверка видимости элемента User Avatar","time":{"start":1711282486725,"stop":1711282487384,"duration":659},"status":"passed","steps":[{"name":"Проверка видимости элемента: [data-test=\"avatar\"]","time":{"start":1711282486725,"stop":1711282487383,"duration":658},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":17,"attachmentsCount":0,"hasContent":true}],"testStage":{"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.","statusTrace":"self = <test_e2e_create_project.TestCreateProjectE2E object at 0x7f221f3e17e0>\ncreated_project_data = ProjectResponseModel(id='hPeVufuZnWEProject', name='walk', parentProjectId='_Root', virtual=False, description=None, h...rojectFeatures={'count': 0, 'href': '/app/rest/projects/id:hPeVufuZnWEProject/projectFeatures'}, projects={'count': 0})\npage = <Page url='http://localhost:8111/favorite/projects?mode=builds'>\nlogin = None\n\n    @allure.feature('Управление проектами')\n    @allure.story('Создание проекта')\n    @allure.severity(allure.severity_level.NORMAL)\n    @allure.title('Проверка перехода на страницу создания под-проекта при клике на New Project... '\n                  'из существующего проекта на Home Page')\n    def test_redirect_to_create_project_page_on_new_project_click_from_existing_project(self, created_project_data,\n                                                                                        page, login):\n        parent_project_id = created_project_data.id\n        parent_project_name = created_project_data.name\n        home_page = FavoriteProjectsPage(page)\n>       home_page.click_new_project_from_dropdown(parent_project_id)\n\ntests/frontend/test_e2e_create_project.py:77: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/favorite_projects_page.py:25: in click_new_project_from_dropdown\n    self.actions.wait_for_selector(self.new_project_dropdown_item_selector)\npages/actions/page_actions.py:53: in wait_for_selector\n    self.page.wait_for_selector(selector, state='visible')\n../../../.local/lib/python3.10/site-packages/playwright/sync_api/_generated.py:7789: in wait_for_selector\n    self._sync(\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_page.py:373: in wait_for_selector\n    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_frame.py:323: in wait_for_selector\n    await self._channel.send(\"waitForSelector\", locals_to_params(locals()))\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_connection.py:59: in send\n    return await self._connection.wrap_api_call(\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_connection.py:509: in wrap_api_call\n    return await cb()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Channel object at 0x7f221dcab970>\nmethod = 'waitForSelector'\nparams = {'selector': 'a[class *=\"ring-list-item\"]:has-text(\"New Project...\")', 'state': 'visible'}\nreturn_as_dict = False\n\n    async def inner_send(\n        self, method: str, params: Optional[Dict], return_as_dict: bool\n    ) -> Any:\n        if params is None:\n            params = {}\n        if self._connection._error:\n            error = self._connection._error\n            self._connection._error = None\n            raise error\n        callback = self._connection._send_message_to_server(\n            self._object, method, _filter_none(params)\n        )\n        done, _ = await asyncio.wait(\n            {\n                self._connection._transport.on_error_future,\n                callback.future,\n            },\n            return_when=asyncio.FIRST_COMPLETED,\n        )\n        if not callback.future.done():\n            callback.future.cancel()\n>       result = next(iter(done)).result()\nE       playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.\n\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_connection.py:97: TimeoutError","steps":[{"name":"Для проекта c id 'hPeVufuZnWEProject' выбрать New project","time":{"start":1711282487385,"stop":1711282517834,"duration":30449},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.\n","statusTrace":"  File \"/home/runner/work/team-city-workshop/team-city-workshop/pages/favorite_projects_page.py\", line 25, in click_new_project_from_dropdown\n    self.actions.wait_for_selector(self.new_project_dropdown_item_selector)\n  File \"/home/runner/work/team-city-workshop/team-city-workshop/pages/actions/page_actions.py\", line 53, in wait_for_selector\n    self.page.wait_for_selector(selector, state='visible')\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 7789, in wait_for_selector\n    self._sync(\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 113, in _sync\n    return task.result()\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_page.py\", line 373, in wait_for_selector\n    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_frame.py\", line 323, in wait_for_selector\n    await self._channel.send(\"waitForSelector\", locals_to_params(locals()))\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 59, in send\n    return await self._connection.wrap_api_call(\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 509, in wrap_api_call\n    return await cb()\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 97, in inner_send\n    result = next(iter(done)).result()\n","steps":[{"name":"Клик на '+' кнопку для проекта c id 'hPeVufuZnWEProject'","time":{"start":1711282487385,"stop":1711282487783,"duration":398},"status":"passed","steps":[{"name":"Клик по элементу: [data-project-id=\"hPeVufuZnWEProject\"] [class *=\"Subproject__addBuildConfiguration\"]","time":{"start":1711282487385,"stop":1711282487783,"duration":398},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Ожидаем повяления селектора: a[class *=\"ring-list-item\"]:has-text(\"New Project...\")","time":{"start":1711282487783,"stop":1711282517834,"duration":30051},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.\n","statusTrace":"  File \"/home/runner/work/team-city-workshop/team-city-workshop/pages/actions/page_actions.py\", line 53, in wait_for_selector\n    self.page.wait_for_selector(selector, state='visible')\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 7789, in wait_for_selector\n    self._sync(\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 113, in _sync\n    return task.result()\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_page.py\", line 373, in wait_for_selector\n    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_frame.py\", line 323, in wait_for_selector\n    await self._channel.send(\"waitForSelector\", locals_to_params(locals()))\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 59, in send\n    return await self._connection.wrap_api_call(\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 509, in wrap_api_call\n    return await cb()\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 97, in inner_send\n    result = next(iter(done)).result()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"d55429f1f5ac24d9","name":"log","source":"d55429f1f5ac24d9.txt","type":"text/plain","size":3588}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":1,"hasContent":true},"afterStages":[{"name":"page::0","time":{"start":1711282517970,"stop":1711282519110,"duration":1140},"status":"passed","steps":[{"name":"Teardown: closing browser, stopping playwright, saving trace.zip file","time":{"start":1711282517970,"stop":1711282519110,"duration":1140},"status":"passed","steps":[{"name":"Generating trace.zip file","time":{"start":1711282519102,"stop":1711282519110,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"f546dca0fffb68be","name":"test_redirect_to_create_project_page_on_new_project_click_from_existing_project[firefox]_trace.zip","source":"f546dca0fffb68be.attach","type":"application/zip","size":6528851}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true}],"attachments":[],"parameters":[{"name":"context","value":"<BrowserContext browser=<Browser type=<BrowserType name=firefox executable_path=/home/runner/.cache/ms-playwright/firefox-1440/firefox/firefox> version=123.0>>"},{"name":"browser","value":"<Browser type=<BrowserType name=firefox executable_path=/home/runner/.cache/ms-playwright/firefox-1440/firefox/firefox> version=123.0>"},{"name":"playwright","value":"<playwright._impl._playwright.Playwright object at 0x7f221f3b6020>"},{"name":"test_name","value":"'test_redirect_to_create_project_page_on_new_project_click_from_existing_project[firefox]'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true},{"name":"project_data::0","time":{"start":1711282519111,"stop":1711282519176,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"user_session::0","time":{"start":1711282519177,"stop":1711282519177,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"severity","value":"normal"},{"name":"story","value":"Создание проекта"},{"name":"feature","value":"Управление проектами"},{"name":"parentSuite","value":"tests.frontend"},{"name":"suite","value":"test_e2e_create_project"},{"name":"subSuite","value":"TestCreateProjectE2E"},{"name":"host","value":"fv-az801-737"},{"name":"thread","value":"9021-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.frontend.test_e2e_create_project"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"page","value":"'firefox'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"a36f998d3dfd7207.json","parameterValues":["'firefox'"]}