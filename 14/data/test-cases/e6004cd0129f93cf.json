{"uid":"e6004cd0129f93cf","name":"Проверка перехода на страницу создания под-проекта при клике на New Project из существующего проекта на Home Page","fullName":"tests.frontend.test_e2e_create_project.TestCreateProjectE2E#test_redirect_to_create_project_page_on_new_project_click_from_existing_project","historyId":"5b93207ab29deecd06b09d7d86463d15","time":{"start":1711278545540,"stop":1711278575998,"duration":30458},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.","statusTrace":"self = <test_e2e_create_project.TestCreateProjectE2E object at 0x7fc6c961b0a0>\ncreated_project_data = ProjectResponseModel(id='w4pH4sqJqZRProject', name='cover', parentProjectId='_Root', virtual=False, description=None, ...rojectFeatures={'count': 0, 'href': '/app/rest/projects/id:w4pH4sqJqZRProject/projectFeatures'}, projects={'count': 0})\npage = <Page url='http://localhost:8111/favorite/projects?mode=builds'>\nlogin = None\n\n    @allure.feature('Управление проектами')\n    @allure.story('Создание проекта')\n    @allure.severity(allure.severity_level.NORMAL)\n    @allure.title('Проверка перехода на страницу создания под-проекта при клике на New Project '\n                  'из существующего проекта на Home Page')\n    def test_redirect_to_create_project_page_on_new_project_click_from_existing_project(self, created_project_data,\n                                                                                        page, login):\n        parent_project_id = created_project_data.id\n        parent_project_name = created_project_data.name\n        home_page = FavoriteProjectsPage(page)\n>       home_page.click_new_project_from_dropdown(parent_project_id)\n\ntests/frontend/test_e2e_create_project.py:77: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/favorite_projects_page.py:25: in click_new_project_from_dropdown\n    self.actions.click_button(self.new_project_dropdown_item_selector)\npages/actions/page_actions.py:33: in click_button\n    self.page.click(selector)\n../../../.local/lib/python3.10/site-packages/playwright/sync_api/_generated.py:9466: in click\n    self._sync(\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_page.py:753: in click\n    return await self._main_frame.click(**locals_to_params(locals()))\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_frame.py:488: in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_connection.py:59: in send\n    return await self._connection.wrap_api_call(\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_connection.py:509: in wrap_api_call\n    return await cb()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Channel object at 0x7fc6c96574f0>\nmethod = 'click'\nparams = {'selector': 'a[class *=\"ring-list-item\"]:has-text(\"New Project...\")'}\nreturn_as_dict = False\n\n    async def inner_send(\n        self, method: str, params: Optional[Dict], return_as_dict: bool\n    ) -> Any:\n        if params is None:\n            params = {}\n        if self._connection._error:\n            error = self._connection._error\n            self._connection._error = None\n            raise error\n        callback = self._connection._send_message_to_server(\n            self._object, method, _filter_none(params)\n        )\n        done, _ = await asyncio.wait(\n            {\n                self._connection._transport.on_error_future,\n                callback.future,\n            },\n            return_when=asyncio.FIRST_COMPLETED,\n        )\n        if not callback.future.done():\n            callback.future.cancel()\n>       result = next(iter(done)).result()\nE       playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.\n\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_connection.py:97: TimeoutError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1711278335885,"stop":1711278335912,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"super_admin","time":{"start":1711278540978,"stop":1711278540983,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"user_session","time":{"start":1711278540978,"stop":1711278540978,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"project_data","time":{"start":1711278540983,"stop":1711278540983,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"created_project_data","time":{"start":1711278540983,"stop":1711278541039,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"page","time":{"start":1711278541040,"stop":1711278542376,"duration":1336},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"login","time":{"start":1711278542376,"stop":1711278545539,"duration":3163},"status":"passed","steps":[{"name":"Логин в приложение","time":{"start":1711278542377,"stop":1711278544017,"duration":1640},"status":"passed","steps":[{"name":"Переход на страницу логина","time":{"start":1711278542377,"stop":1711278543368,"duration":991},"status":"passed","steps":[{"name":"Переход на URL: http://localhost:8111/login.html","time":{"start":1711278542377,"stop":1711278543360,"duration":983},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Ожидание загрузки страницы","time":{"start":1711278543360,"stop":1711278543368,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Ввод username","time":{"start":1711278543369,"stop":1711278543614,"duration":245},"status":"passed","steps":[{"name":"Ожидаем повяления селектора: input#username","time":{"start":1711278543369,"stop":1711278543518,"duration":149},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"ввод текста 'admin' в элемент: input#username","time":{"start":1711278543518,"stop":1711278543614,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Ввод password","time":{"start":1711278543614,"stop":1711278543794,"duration":180},"status":"passed","steps":[{"name":"Ожидаем повяления селектора: input#password","time":{"start":1711278543614,"stop":1711278543707,"duration":93},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"ввод текста 'admin' в элемент: input#password","time":{"start":1711278543707,"stop":1711278543794,"duration":87},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Нажатие кнопки Log in","time":{"start":1711278543794,"stop":1711278544017,"duration":223},"status":"passed","steps":[{"name":"Клик по элементу: input.btn.loginButton","time":{"start":1711278543794,"stop":1711278544016,"duration":222},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false}],"attachments":[],"parameters":[{"name":"username","value":"'admin'"},{"name":"password","value":"'admin'"}],"stepsCount":11,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Проверка URL страницы favorite projects","time":{"start":1711278544017,"stop":1711278545140,"duration":1123},"status":"passed","steps":[{"name":"Ожидание изменения URL на http://localhost:8111/favorite/projects","time":{"start":1711278544017,"stop":1711278545129,"duration":1112},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Ожидание загрузки страницы","time":{"start":1711278545129,"stop":1711278545140,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Проверка видимости элемента User Avatar","time":{"start":1711278545140,"stop":1711278545539,"duration":399},"status":"passed","steps":[{"name":"Проверка видимости элемента: [data-test=\"avatar\"]","time":{"start":1711278545141,"stop":1711278545539,"duration":398},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false}],"testStage":{"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.","statusTrace":"self = <test_e2e_create_project.TestCreateProjectE2E object at 0x7fc6c961b0a0>\ncreated_project_data = ProjectResponseModel(id='w4pH4sqJqZRProject', name='cover', parentProjectId='_Root', virtual=False, description=None, ...rojectFeatures={'count': 0, 'href': '/app/rest/projects/id:w4pH4sqJqZRProject/projectFeatures'}, projects={'count': 0})\npage = <Page url='http://localhost:8111/favorite/projects?mode=builds'>\nlogin = None\n\n    @allure.feature('Управление проектами')\n    @allure.story('Создание проекта')\n    @allure.severity(allure.severity_level.NORMAL)\n    @allure.title('Проверка перехода на страницу создания под-проекта при клике на New Project '\n                  'из существующего проекта на Home Page')\n    def test_redirect_to_create_project_page_on_new_project_click_from_existing_project(self, created_project_data,\n                                                                                        page, login):\n        parent_project_id = created_project_data.id\n        parent_project_name = created_project_data.name\n        home_page = FavoriteProjectsPage(page)\n>       home_page.click_new_project_from_dropdown(parent_project_id)\n\ntests/frontend/test_e2e_create_project.py:77: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/favorite_projects_page.py:25: in click_new_project_from_dropdown\n    self.actions.click_button(self.new_project_dropdown_item_selector)\npages/actions/page_actions.py:33: in click_button\n    self.page.click(selector)\n../../../.local/lib/python3.10/site-packages/playwright/sync_api/_generated.py:9466: in click\n    self._sync(\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_page.py:753: in click\n    return await self._main_frame.click(**locals_to_params(locals()))\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_frame.py:488: in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_connection.py:59: in send\n    return await self._connection.wrap_api_call(\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_connection.py:509: in wrap_api_call\n    return await cb()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Channel object at 0x7fc6c96574f0>\nmethod = 'click'\nparams = {'selector': 'a[class *=\"ring-list-item\"]:has-text(\"New Project...\")'}\nreturn_as_dict = False\n\n    async def inner_send(\n        self, method: str, params: Optional[Dict], return_as_dict: bool\n    ) -> Any:\n        if params is None:\n            params = {}\n        if self._connection._error:\n            error = self._connection._error\n            self._connection._error = None\n            raise error\n        callback = self._connection._send_message_to_server(\n            self._object, method, _filter_none(params)\n        )\n        done, _ = await asyncio.wait(\n            {\n                self._connection._transport.on_error_future,\n                callback.future,\n            },\n            return_when=asyncio.FIRST_COMPLETED,\n        )\n        if not callback.future.done():\n            callback.future.cancel()\n>       result = next(iter(done)).result()\nE       playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.\n\n../../../.local/lib/python3.10/site-packages/playwright/_impl/_connection.py:97: TimeoutError","steps":[{"name":"Для проекта c id 'w4pH4sqJqZRProject' выбрать New project","time":{"start":1711278545540,"stop":1711278575997,"duration":30457},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.\n","statusTrace":"  File \"/home/runner/work/team-city-workshop/team-city-workshop/pages/favorite_projects_page.py\", line 25, in click_new_project_from_dropdown\n    self.actions.click_button(self.new_project_dropdown_item_selector)\n  File \"/home/runner/work/team-city-workshop/team-city-workshop/pages/actions/page_actions.py\", line 33, in click_button\n    self.page.click(selector)\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 9466, in click\n    self._sync(\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 113, in _sync\n    return task.result()\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_page.py\", line 753, in click\n    return await self._main_frame.click(**locals_to_params(locals()))\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_frame.py\", line 488, in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 59, in send\n    return await self._connection.wrap_api_call(\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 509, in wrap_api_call\n    return await cb()\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 97, in inner_send\n    result = next(iter(done)).result()\n","steps":[{"name":"Клик на '+' кнопку для проекта c id 'w4pH4sqJqZRProject'","time":{"start":1711278545540,"stop":1711278545972,"duration":432},"status":"passed","steps":[{"name":"Клик по элементу: [data-project-id=\"w4pH4sqJqZRProject\"] [class *=\"Subproject__addBuildConfiguration\"]","time":{"start":1711278545540,"stop":1711278545972,"duration":432},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Клик по элементу: a[class *=\"ring-list-item\"]:has-text(\"New Project...\")","time":{"start":1711278545972,"stop":1711278575997,"duration":30025},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.\n","statusTrace":"  File \"/home/runner/work/team-city-workshop/team-city-workshop/pages/actions/page_actions.py\", line 33, in click_button\n    self.page.click(selector)\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 9466, in click\n    self._sync(\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 113, in _sync\n    return task.result()\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_page.py\", line 753, in click\n    return await self._main_frame.click(**locals_to_params(locals()))\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_frame.py\", line 488, in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 59, in send\n    return await self._connection.wrap_api_call(\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 509, in wrap_api_call\n    return await cb()\n  File \"/home/runner/.local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 97, in inner_send\n    result = next(iter(done)).result()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":true}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false}],"attachments":[{"uid":"2373fb343f66bb5f","name":"log","source":"2373fb343f66bb5f.txt","type":"text/plain","size":3589}],"parameters":[],"stepsCount":4,"attachmentsCount":1,"hasContent":true,"shouldDisplayMessage":true},"afterStages":[{"name":"page::0","time":{"start":1711278576144,"stop":1711278577362,"duration":1218},"status":"passed","steps":[{"name":"Teardown: closing browser, stopping playwright, saving trace.zip file","time":{"start":1711278576144,"stop":1711278577362,"duration":1218},"status":"passed","steps":[{"name":"Generating trace.zip file","time":{"start":1711278577351,"stop":1711278577362,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"a77c93d01c22eb41","name":"test_redirect_to_create_project_page_on_new_project_click_from_existing_project[firefox]_trace.zip","source":"a77c93d01c22eb41.attach","type":"application/zip","size":8093190}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"hasContent":true,"shouldDisplayMessage":false}],"attachments":[],"parameters":[{"name":"context","value":"<BrowserContext browser=<Browser type=<BrowserType name=firefox executable_path=/home/runner/.cache/ms-playwright/firefox-1440/firefox/firefox> version=123.0>>"},{"name":"browser","value":"<Browser type=<BrowserType name=firefox executable_path=/home/runner/.cache/ms-playwright/firefox-1440/firefox/firefox> version=123.0>"},{"name":"playwright","value":"<playwright._impl._playwright.Playwright object at 0x7fc6c97ebdf0>"},{"name":"test_name","value":"'test_redirect_to_create_project_page_on_new_project_click_from_existing_project[firefox]'"}],"stepsCount":1,"attachmentsCount":1,"hasContent":true,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":1,"hasContent":true,"shouldDisplayMessage":false},{"name":"project_data::0","time":{"start":1711278577363,"stop":1711278577415,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"user_session::0","time":{"start":1711278577416,"stop":1711278577416,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"labels":[{"name":"feature","value":"Управление проектами"},{"name":"story","value":"Создание проекта"},{"name":"severity","value":"normal"},{"name":"parentSuite","value":"tests.frontend"},{"name":"suite","value":"test_e2e_create_project"},{"name":"subSuite","value":"TestCreateProjectE2E"},{"name":"host","value":"fv-az695-240"},{"name":"thread","value":"8940-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.frontend.test_e2e_create_project"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"page","value":"'firefox'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"e6004cd0129f93cf.json","parameterValues":["'firefox'"]}